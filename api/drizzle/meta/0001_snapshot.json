{
  "id": "22109d65-8ae8-4a53-87da-a8162d233862",
  "prevId": "3e31fe8b-2275-4c78-83ba-e5b520efc309",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account_timeline_summary": {
      "name": "account_timeline_summary",
      "schema": "",
      "columns": {
        "account_id": {
          "name": "account_id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "first_event_at": {
          "name": "first_event_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_event_at": {
          "name": "last_event_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "total_events": {
          "name": "total_events",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_processes": {
          "name": "total_processes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_process": {
          "name": "last_process",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": false
        },
        "systems_touched": {
          "name": "systems_touched",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_ids": {
          "name": "correlation_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ix_account_timeline_summary_last_event": {
          "name": "ix_account_timeline_summary_last_event",
          "columns": [
            {
              "expression": "\"last_event_at\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.correlation_links": {
      "name": "correlation_links",
      "schema": "",
      "columns": {
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(200)",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "application_id": {
          "name": "application_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "card_number_last4": {
          "name": "card_number_last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "linked_at": {
          "name": "linked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ix_correlation_links_account_id": {
          "name": "ix_correlation_links_account_id",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_correlation_links_application_id": {
          "name": "ix_correlation_links_application_id",
          "columns": [
            {
              "expression": "application_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"correlation_links\".\"application_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_logs": {
      "name": "event_logs",
      "schema": "",
      "columns": {
        "event_log_id": {
          "name": "event_log_id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "span_id": {
          "name": "span_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_span_id": {
          "name": "parent_span_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "span_links": {
          "name": "span_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "application_id": {
          "name": "application_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "target_system": {
          "name": "target_system",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "originating_system": {
          "name": "originating_system",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "process_name": {
          "name": "process_name",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": true
        },
        "step_sequence": {
          "name": "step_sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "step_name": {
          "name": "step_name",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_status": {
          "name": "event_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "identifiers": {
          "name": "identifiers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "event_timestamp": {
          "name": "event_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": false
        },
        "http_status_code": {
          "name": "http_status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": false
        },
        "request_payload": {
          "name": "request_payload",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_payload": {
          "name": "response_payload",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "ix_event_logs_correlation_id": {
          "name": "ix_event_logs_correlation_id",
          "columns": [
            {
              "expression": "correlation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_account_id": {
          "name": "ix_event_logs_account_id",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"event_logs\".\"account_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_trace_id": {
          "name": "ix_event_logs_trace_id",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_process": {
          "name": "ix_event_logs_process",
          "columns": [
            {
              "expression": "process_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_timestamp": {
          "name": "ix_event_logs_timestamp",
          "columns": [
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_status": {
          "name": "ix_event_logs_status",
          "columns": [
            {
              "expression": "event_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"event_logs\".\"event_status\" = 'FAILURE'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_target_system": {
          "name": "ix_event_logs_target_system",
          "columns": [
            {
              "expression": "target_system",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_idempotency": {
          "name": "ix_event_logs_idempotency",
          "columns": [
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"event_logs\".\"idempotency_key\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_event_logs_batch_id": {
          "name": "ix_event_logs_batch_id",
          "columns": [
            {
              "expression": "batch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "correlation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"event_logs\".\"batch_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_event_logs_event_type": {
          "name": "ck_event_logs_event_type",
          "value": "\"event_logs\".\"event_type\" IN ('PROCESS_START', 'STEP', 'PROCESS_END', 'ERROR')"
        },
        "ck_event_logs_event_status": {
          "name": "ck_event_logs_event_status",
          "value": "\"event_logs\".\"event_status\" IN ('SUCCESS', 'FAILURE', 'IN_PROGRESS', 'SKIPPED')"
        },
        "ck_event_logs_http_method": {
          "name": "ck_event_logs_http_method",
          "value": "\"event_logs\".\"http_method\" IS NULL OR \"event_logs\".\"http_method\" IN ('GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS')"
        }
      },
      "isRLSEnabled": false
    },
    "public.process_definitions": {
      "name": "process_definitions",
      "schema": "",
      "columns": {
        "process_id": {
          "name": "process_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "process_name": {
          "name": "process_name",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(510)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owning_team": {
          "name": "owning_team",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "expected_steps": {
          "name": "expected_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sla_ms": {
          "name": "sla_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ix_process_definitions_name": {
          "name": "ix_process_definitions_name",
          "columns": [
            {
              "expression": "process_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ix_process_definitions_owning_team": {
          "name": "ix_process_definitions_owning_team",
          "columns": [
            {
              "expression": "owning_team",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}